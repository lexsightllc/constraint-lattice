#!/usr/bin/env bash
set -euo pipefail

SCRIPT_DIR=$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)
source "$SCRIPT_DIR/lib.sh"

with_venv
ensure_command pytest

log INFO "Running end-to-end tests"
pytest tests/e2e --maxfail=1 --cov=src --cov-append --cov-report=term-missing "${@}"
